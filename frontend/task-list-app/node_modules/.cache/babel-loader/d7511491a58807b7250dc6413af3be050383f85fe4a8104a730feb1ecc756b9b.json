{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport userService from '../services/userService';\nconst initialState = {\n  user: null,\n  loading: false,\n  error: null\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    getUserStart(state) {\n      state.loading = true;\n      state.error = null;\n    },\n    getUserSuccess(state, action) {\n      state.loading = false;\n      state.user = action.payload;\n    },\n    getUserFailure(state, action) {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    logoutUser(state) {\n      state.user = null;\n    }\n  }\n});\nexport const {\n  getUserStart,\n  getUserSuccess,\n  getUserFailure,\n  logoutUser\n} = userSlice.actions;\nexport default userSlice.reducer;\nexport const loadUser = () => async dispatch => {\n  try {\n    dispatch(getUserStart());\n    const user = await userService.getUser();\n    dispatch(getUserSuccess(user));\n  } catch (error) {\n    dispatch(getUserFailure(error.message));\n  }\n};\nexport const loginUser = user => dispatch => {\n  dispatch(getUserSuccess(user));\n};","map":{"version":3,"names":["createSlice","userService","initialState","user","loading","error","userSlice","name","reducers","getUserStart","state","getUserSuccess","action","payload","getUserFailure","logoutUser","actions","reducer","loadUser","dispatch","getUser","message","loginUser"],"sources":["C:/Users/franc/Documents/Work/Projects/Interview/task-list-app/src/slices/userSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { AppThunk } from '../store';\r\nimport userService from '../services/userService';\r\nimport { User } from '../interfaces/User';\r\n\r\ninterface UserState {\r\n    user: User | null;\r\n    loading: boolean;\r\n    error: string | null;\r\n}\r\n\r\nconst initialState: UserState = {\r\n    user: null,\r\n    loading: false,\r\n    error: null,\r\n};\r\n\r\nconst userSlice = createSlice({\r\n    name: 'user',\r\n    initialState,\r\n    reducers: {\r\n        getUserStart(state) {\r\n            state.loading = true;\r\n            state.error = null;\r\n        },\r\n        getUserSuccess(state, action: PayloadAction<User>) {\r\n            state.loading = false;\r\n            state.user = action.payload;\r\n        },\r\n        getUserFailure(state, action: PayloadAction<string>) {\r\n            state.loading = false;\r\n            state.error = action.payload;\r\n        },\r\n        logoutUser(state) {\r\n            state.user = null;\r\n        },\r\n    },\r\n});\r\n\r\nexport const {\r\n    getUserStart,\r\n    getUserSuccess,\r\n    getUserFailure,\r\n    logoutUser,\r\n} = userSlice.actions;\r\n\r\nexport default userSlice.reducer;\r\n\r\nexport const loadUser = (): AppThunk => async dispatch => {\r\n    try {\r\n        dispatch(getUserStart());\r\n        const user = await userService.getUser();\r\n        dispatch(getUserSuccess(user));\r\n    } catch (error) {\r\n        dispatch(getUserFailure(error.message));\r\n    }\r\n};\r\n\r\nexport const loginUser = (user: User): AppThunk => dispatch => {\r\n    dispatch(getUserSuccess(user));\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAuB,kBAAkB;AAE7D,OAAOC,WAAW,MAAM,yBAAyB;AASjD,MAAMC,YAAuB,GAAG;EAC5BC,IAAI,EAAE,IAAI;EACVC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACX,CAAC;AAED,MAAMC,SAAS,GAAGN,WAAW,CAAC;EAC1BO,IAAI,EAAE,MAAM;EACZL,YAAY;EACZM,QAAQ,EAAE;IACNC,YAAYA,CAACC,KAAK,EAAE;MAChBA,KAAK,CAACN,OAAO,GAAG,IAAI;MACpBM,KAAK,CAACL,KAAK,GAAG,IAAI;IACtB,CAAC;IACDM,cAAcA,CAACD,KAAK,EAAEE,MAA2B,EAAE;MAC/CF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACP,IAAI,GAAGS,MAAM,CAACC,OAAO;IAC/B,CAAC;IACDC,cAAcA,CAACJ,KAAK,EAAEE,MAA6B,EAAE;MACjDF,KAAK,CAACN,OAAO,GAAG,KAAK;MACrBM,KAAK,CAACL,KAAK,GAAGO,MAAM,CAACC,OAAO;IAChC,CAAC;IACDE,UAAUA,CAACL,KAAK,EAAE;MACdA,KAAK,CAACP,IAAI,GAAG,IAAI;IACrB;EACJ;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EACTM,YAAY;EACZE,cAAc;EACdG,cAAc;EACdC;AACJ,CAAC,GAAGT,SAAS,CAACU,OAAO;AAErB,eAAeV,SAAS,CAACW,OAAO;AAEhC,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAgB,MAAMC,QAAQ,IAAI;EACtD,IAAI;IACAA,QAAQ,CAACV,YAAY,CAAC,CAAC,CAAC;IACxB,MAAMN,IAAI,GAAG,MAAMF,WAAW,CAACmB,OAAO,CAAC,CAAC;IACxCD,QAAQ,CAACR,cAAc,CAACR,IAAI,CAAC,CAAC;EAClC,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZc,QAAQ,CAACL,cAAc,CAACT,KAAK,CAACgB,OAAO,CAAC,CAAC;EAC3C;AACJ,CAAC;AAED,OAAO,MAAMC,SAAS,GAAInB,IAAU,IAAegB,QAAQ,IAAI;EAC3DA,QAAQ,CAACR,cAAc,CAACR,IAAI,CAAC,CAAC;AAClC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}